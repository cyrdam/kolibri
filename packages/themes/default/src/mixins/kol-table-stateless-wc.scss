@import './rem';

@mixin kol-table-stateless-wc {
	@layer kol-theme-component {
		.kol-table {
			$root: &;

			hyphens: var(--hyphens);
			font-family: var(--font-family);
			line-height: var(--line-height);
			word-break: break-word;

			overflow-x: auto;
			overflow-y: hidden;
			padding: rem(8);

			&__container,
			&__caption {
				border-width: 0;
				border-bottom-width: calc(var(--border-width) * 2);
				border-color: var(--color-primary-variant);
				border-style: solid;
			}

			&__container {
				width: 100%;
				border-spacing: 0;
			}

			&__caption {
				padding: rem(8);
			}

			&__focus-element {
				&:focus {
					outline-color: var(--color-primary-variant);
					outline-offset: rem(2);
					outline-style: solid;
					outline-width: rem(3);
					transition: outline-offset 0.2s linear;
				}
			}

			&__selection-cell,
			&__header-cell,
			&__body-cell {
				padding: rem(8);
			}

			&__header-cell {
				font-weight: normal;
				color: var(--color-primary);
				background-color: var(--color-light);

				&[aria-sort='ascending'],
				&[aria-sort='descending'] {
					font-weight: 700;
					.kol-button {
						font-weight: 700;
					}
				}
			}

			&__selection-indeterminate,
			&__selection-checked {
				display: flex;
				gap: rem(8);
				grid-template-columns: 1fr auto;
				align-items: center;
			}

			&__foot-spacer,
			&__head-spacer {
				display: table-row;
				height: rem(24);
			}
			&__foot-spacer-line,
			&__head-spacer-line {
				border-width: 0;
				border-color: var(--color-primary-variant);
				border-style: solid;
			}

			&__foot-spacer-line {
				border-bottom-width: calc(var(--border-width) * 2);
			}

			&__head-spacer-line {
				border-top-width: calc(var(--border-width) * 2);
			}

			&__body-cell-row:nth-child(even) {
				background-color: var(--color-mute);
			}

			&__selection-input {
				&:hover {
					border-color: var(--color-primary);
					box-shadow: 0 rem(2) rem(8) rem(2) rgba(8, 35, 48, 0.24);
				}

				&:focus {
					border-color: var(--color-primary);
					outline-color: var(--color-primary-variant);
					outline-style: solid;
					outline-offset: rem(2);
					outline-width: rem(3);
				}

				&:focus:hover {
					box-shadow: none;
				}

				// CHECKBOX
				&[type='checkbox'] {
					border-color: var(--color-subtle);
					border-radius: rem(5);

					&:checked {
						background-color: var(--color-primary);
						border-color: var(--color-primary);
					}
				}

				// RADIO
				&[type='radio'] {
					display: flex;
					border-color: var(--color-subtle);

					&:checked {
						border-color: var(--color-primary);

						&:before {
							background-color: var(--color-primary);
						}
					}
				}
			}

			&__selection-icon {
				color: var(--color-light);
			}

			&__selection-indeterminate {
				input {
					background-color: var(--color-primary);
					border-color: var(--color-primary);
				}
			}

			.kol-icon:hover ~ &__selection-input[type='checkbox'],
			&__selection-input[type='checkbox']:hover {
				border-color: var(--color-primary);
			}
		}
	}
}
