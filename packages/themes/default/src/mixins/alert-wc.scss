@import './rem';

@mixin kol-alert {
	display: block;
	width: 100%;
}

@mixin kol-input-error-with-kol-alert-wc-error($color: null) {
	color: var($color);
	font-weight: 700;
}

@mixin kol-alert-theme {
	.msg {
		border-width: 0;
	}

	.kol-alert {
		border-width: var(--border-width);
		border-style: solid;
		border-radius: var(--border-radius);
		display: flex;
		width: 100%;
		overflow: unset;
		border-color: transparent;
		background-color: var(--color-light);

		&.msg {
			border-width: 0;
		}

		&__heading {
			display: flex;
			gap: 0.5em;
			place-items: center;

			div {
				display: grid;
				gap: rem(4);
			}

			.kol-button-wc.close {
				place-self: center;
			}
		}
	}
	.msg > .kol-alert__heading > .kol-icon {
		place-self: baseline;
	}

	.msg {
		align-items: start;
	}

	.default {
		border-color: var(--color-subtle);
	}

	.default.msg .kol-alert__heading-icon {
		color: var(--color-subtle);
	}

	.error {
		border-color: var(--color-danger);
	}

	.error.msg .kol-alert__heading-icon {
		color: var(--color-danger);
	}

	.info {
		border-color: var(--color-primary);
	}

	.info.msg .kol-alert__heading-icon {
		color: var(--color-primary);
	}

	.success {
		border-color: var(--color-success);
	}

	.success.msg .kol-alert__heading-icon {
		color: var(--color-success);
	}

	.warning {
		border-color: var(--color-warning);
	}

	.warning.msg .kol-alert__heading-icon {
		color: var(--color-warning);
	}

	.kol-alert__heading-icon {
		color: var(--color-light);
	}

	.kol-alert .kol-alert__heading .kol-alert__heading-icon {
		padding: 0;
	}

	.msg > .kol-alert__heading > .kol-alert__heading-icon {
		padding-top: 0;
		place-items: baseline;
	}

	.msg > .kol-alert__heading > div > .kol-heading-wc {
		padding-top: calc(--var-spacing / 2);
	}

	.msg.default .kol-alert__heading > div > .kol-heading-wc {
		color: var(--color-subtle);
	}

	.msg.error .kol-alert__heading > div > .kol-heading-wc {
		color: var(--color-danger);
	}

	.msg.info .kol-alert__heading > div > .kol-heading-wc {
		color: var(--color-primary);
	}

	.msg.success .kol-alert__heading > div > .kol-heading-wc {
		color: var(--color-success);
	}

	.msg.warning .kol-alert__heading > div > .kol-heading-wc {
		color: var(--color-warning);
	}

	.msg.default .close .icon {
		color: var(--color-subtle);
	}

	.msg.error .close .icon {
		color: var(--color-danger);
	}

	.msg.info .close .icon {
		color: var(--color-primary);
	}

	.msg.success .close .icon {
		color: var(--color-success);
	}

	.msg.warning .close .icon {
		color: var(--color-warning);
	}

	.card {
		border-width: var(--border-width);
		border-style: solid;
		filter: drop-shadow(0 rem(2) rem(4) rgba(8, 35, 48, 0.24));
		flex-direction: column;
	}

	.card > .kol-alert__heading {
		padding: rem(8) rem(16);
	}

	.card[_has-closer] > .kol-alert__heading {
		padding-top: 0;
		padding-bottom: 0;
		padding-right: 0;
	}

	.card > .kol-alert__heading > div {
		width: 100%;
		min-height: rem(20);
	}

	.card > .kol-alert__heading .heading-icon {
		justify-self: right;
		margin-top: rem(-4);
	}

	.card > .kol-alert__heading .kol-heading-wc {
		width: 100%;
		color: var(--color-light);
		display: flex;
		font-size: rem(20);
		line-height: 1;
	}

	.card > .kol-alert__heading .kol-heading-wc > * {
		margin: auto 0;
	}

	.card > .kol-alert__content {
		padding: rem(16);
	}

	.card.default > .kol-alert__heading {
		background-color: var(--color-subtle);
	}

	.card.error > .kol-alert__heading {
		background-color: var(--color-danger);
	}

	.card.info > .kol-alert__heading {
		background-color: var(--color-primary);
	}

	.card.success > .kol-alert__heading {
		background-color: var(--color-success);
	}

	.card.warning > .kol-alert__heading {
		background-color: var(--color-warning);
	}

	:is(.error, .info, .success, .warning) .kol-alert__heading-icon {
		font-size: rem(20);
	}

	.card > div > .kol-alert__content {
		grid-row: 2;
		grid-column: 1 / span 2;
	}

	.card.default .close {
		background-color: var(--color-subtle);
	}

	.card.error .close {
		background-color: var(--color-danger);
	}

	.card.info .close {
		background-color: var(--color-primary);
	}

	.card.success .close {
		background-color: var(--color-success);
	}

	.card.warning .close {
		background-color: var(--color-warning);
	}

	.close > button {
		border-radius: 50%;
		/* visible on focus */
		color: var(--color-light);
		cursor: pointer;
		height: var(--a11y-min-size);
		width: var(--a11y-min-size);
	}

	.close > button.hide-label .kol-icon {
		display: flex;
		width: 1em;
		height: 1em;
		font-size: rem(19.2);
	}

	.close > button:active {
		box-shadow: none;
		outline: none;
	}
}
